# 2.5 HTTP
 - [2.5.1 HTTP/1.0](#251-http10)
   - [RTT 증가 해결법](#rtt-증가-해결법)
- [2.5.2 HTTP/1.1](#252-http11)
  - [HOL Blocking(Head Of Line Blocking)](#hol-blockinghead-of-line-blocking)
- [2.5.3 HTTP/2](#253-http2)
  - [멀티플렉싱](#멀티플렉싱)
  - [헤더 압축](#헤더-압축)
  - [서버 푸시](#서버-푸시)
  
<br/>


---

# 2.5.1 HTTP/1.0
- HTTP/1.0 는 한 연결당 하나의 요청을 처리하도록 설계되었음 (RTT(Round Trip Time) 증가를 불러옴)
  - 서버로부터 파일을 가져올 때마다 3-way 핸드쉐이크를 계속 열어야 함.
  - RTT : 목적지 까지의 패킷 왕복 시간 

## RTT 증가 해결법
  - 이미지 스플리팅 :많은 이미지가 합쳐져 있는 하나의 이미지를 다운받고, background-image의 position을 이용하여 이미지를 표기
  - 코드 압축 : 개행문자, 빈칸을 없애서 코드 크기 최소화
  - base64 인코딩 : 64진법으로 이루어진 문자열로 인코딩하는 방법
    - 장점 : 이미지에 대해 서버에 HTTP 요청을 할 필요 없음
    - 단점 : 용량이 37% 커짐

<br/>

---

# 2.5.2 HTTP/1.1
- 매번 TCP 연결을 하는 것이 아니라, 한 번 TCP 초기화를 한 이후에 Keep-alive라는 옵션으로 여러 파일을 송수신 할 수 있게 함.
  - 1.0에도 Keep-alive는 있었지만 표준화는 1.1 부터 시작
- 문서 안에 포함된 리소스가 많아질수록 개수에 비례해서 대기시간이 길어짐
- 헤더가 쿠키 등 많은 메타데이터를 들고 있고 압축이 되지 않아 많이 무거웠음

## HOL Blocking(Head Of Line Blocking)
- 네트워크 상 같은 큐에 있는 패킷이 첫 번째 패킷에 의해 지연될 때 발생하는 성능 저하 현상



<br/>

---

# 2.5.3 HTTP/2
- HTTP/1.x(SPDY 프로토콜에서 파생됨)보다 지연시간이 짧고 응답시간이 빠름
- 멀티플렉싱, 헤더 압축, 서버 푸시, 요청 우선순위 처리를 지원하는 프로토콜


## 멀티플렉싱
- 여러 개의 스트림을 사용하여 송수신
- 특정 스트림의 패킷이 손실되더라도 나머지 스트림이 정상동작 할 수 있음
  - 스트림(stream) : 시간이 지남에 따라 사용할 수 있게 되는 일련의 데이터 요소
- 하나의 연결에 병렬 스트림을 통해 HOL Blocking을 해결할 수 있다.


## 헤더 압축
- HTTP/2에서 헤더 압축을 해결
  - HTTP/1.x에는 헤더의 크기가 큰 문제가 있었음
- HPack 압축방식 사용(허프만 코딩 알고리즘)

### 허프만 코딩(Huffman coding)
- 문자열을 문자 단위로 쪼개 빈도수를 세어 데이터 표현에 필요한 비트양을 줄임
  - 빈도가 높은 정보는 적은 비트 수를 사용해서 표현

## 서버 푸시
- HTTP/2는 클라이언트 요청 없이 서버가 바로 리소스 푸시 가능(1.1에서는 클라가 요청해야만 파일 다운로드가 가능했다.)




