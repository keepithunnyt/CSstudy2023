# 3.1 Operating Systems and Computers
- [3.1.1 운영체제의 역할과 구조](#311-운영체제의-역할과-구조)
  - [운영체제의 역할](#운영체제의-역할)
  - [운영체제의 구조](#운영체제의-구조)
- [3.1.2 컴퓨터의 요소](#312-컴퓨터의-요소)
  - [CPU (Central Processing Unit)](#cpu-central-processing-unit)
  - [DMA 컨트롤러](#dma-컨트롤러)
  - [메모리(memory)](#메모리memory)
  - [타이머(timer)](#타이머timer)
  - [디바이스 컨트롤러 (device controller)](#디바이스-컨트롤러-device-controller)


<br/>

---

# 3.1.1 운영체제의 역할과 구조
## 운영체제의 역할
1. CPU 스케줄링, 프로세스 관리
2. 메모리 관리 : 어떤 프로세스에 얼만큼 할당할지
3. 디스크 파일 관리
4. I/O 디바이스 관리


## 운영체제의 구조

- GUI, 시스템콜, 커널, 드라이버가 운영체제를 지칭한다.
  - 드라이버 : 하드웨어 제어를 위한 SW

|운영체제 구조|
|---|
|유저 프로그램|
|**GUI**|
|**시스템콜**|
|**커널**|
|**드라이버**|
|하드웨어|


### 시스템콜
- 운영체제가 커널에 접근하기 위한 인터페이스 (유저모드와 커널모드가 있음)
- 유저 프로그램이 운영체제 서비스를 사용하기 위해 커널 함수를 호출할 때 사용
  1. 유저 프로그램의 I/O 요청으로 트랩(trap)을 발동함
  2. 올바른 I/O 요청인지 확인
  3. 유저 모드가 시스템콜을 통해 커널 모드로 변환되어 실행
- 프로세스, 스레드에서 운영체제로 어떤 요청을 할 떄 시스템콜 인터페이스 --> 커널 --> OS 순으로 도달한다.

<br/>

### modebit
- 시스템콜 동작 시 유저모드와 커널모드를 구분하기 위한 장치
- 0, 1 플래그 변수 (0: 커널모드, 1: 유저모드)
- ex. [ 카메라 이용 요청 ] --> [ 시스템콜 호출 ] -- modebit 0으로 변경 --> [ 카메라 자원을 이용한 로직 수행 ] -- modebit 1로 변경 --> [ 이후 로직 수행 ]
  - 유저모드 : 유저가 접근할 수 있는 영역을 제한적으로 두며, 컴퓨터 자원에 함부로 침범하지 못하는 모드
  - 커널모드 : 모든 컴퓨터 자원에 접근할 수 있는 모드
  - 커널 : 시스템콜 인터페이스를 제공. 보안, 메모리, 프로세스, 파일 시스템, I/O 디바이스, I/O 요청관리 등 OS의 중추 역할

 
<br/>

---


# 3.1.2 컴퓨터의 요소
## CPU (Central Processing Unit)
- 산술논리연산장치, 제어장치, 레지스터로 구성되어있는 컴퓨터 장치
- **제어장치 (CU, Control Unit)**
  - 프로세스 조작을 지시. 입출력 장치 간 통신제어, 명령어 해석, 데이터 처리 순서 결정 담당
- **레지스터**
  - CPU 내의 매우 빠른 임시 기억장치
  - CPU와 직접 연결되어 있어서 연산 속도가 메모리보다 수백 배까지 빠름.
  - CPU는 자체 저장 방법이 없어서 레지스터를 거쳐 데이터를 전달한다.
- **산술논리연산장치 (ALU, Arithmetic Logic Unit)**
  - 산술 연산과 배타적 논리합, 논리곱 같은 연산을 계산하는 디지털 회로


### CPU의 연산 처리
1. 제어장치(CU)가 메모리에 계싼할 값을 로드한다. 레지스터에도 로드한다.
2. 제어장치가 산술논리연산장치에게 레지스터에 있는 값 계산 명령
3. 계산된 값을 제어장치가 다시 레지스터에서 메모리로 저장.

### 인터럽트
- 어떤 신호가 들어왔을 때 CPU를 잠시 정지시키는 것
- 인터럽트 발생 시 인터럽트 핸들러 함수가 모여 있는 인터럽트 벡터로 가서 인터럽트 핸들러 함수 실행
- 하드웨어 인터럽트
  - 키보드. 마우스 연결 등 I/O 디바이스에서 발생하는 인터럽트를 의미
  - 인터럽트 라인이 설게된 후, 순차적인 인터럽트를 실행 중지하고 운영체제에 시스템콜을 요청한다.
  - 이후에 원하는 디바이스를 향해, 디바이스 내 작은 로컬 버퍼에 접근하여 일을 수행한다.
- 소프트웨어 인터럽트
  - trap이라고도 부름. 프로세스 오류 등으로 프로세스가 시스템 콜을 호출할 때 발동



## DMA 컨트롤러
- I/O 디바이스가 메모리에 직접 접근할 수 있도록 하는 하드웨어 장치
- CPU에만 너무 많은 인터럽트 요청이 들어오기 때문에, CPU 부하를 막는 역할을 함.
- 하나의 작업을 CPU와 DMA 컨트롤러가 동시에 하는 것을 방지함.

## 메모리(memory)
- 전자회로에서 데이터나, 상태, 명령어 등을 기록하는 장치
- RAM(Random Access Memory)를 일컬어 메모리라고도 한다.

## 타이머(timer)
- 특정 프로그램에 시간 제한을 다는 역할.

## 디바이스 컨트롤러 (device controller)
- 컴퓨터와 연결된 IO 디바이스들의 작은 CPU를 의미
- 로컬버퍼는 각 디바이스에서 임시로 저장하기 위한 작은 메모리를 의미.
\